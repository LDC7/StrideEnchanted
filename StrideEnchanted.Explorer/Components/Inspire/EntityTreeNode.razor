@using MudBlazor
@using Stride.Engine

<MudListItem T="Entity" OnClick="@(() => this.OnSelect.InvokeAsync(this.Entity))">
  @this.Entity.Name
</MudListItem>

@if (this.Children?.Count() > 0)
{
  <MudList T="Entity" Dense="true" Class="ml-4">
    @foreach (var child in this.Children)
    {
      <EntityTreeNode Entity="child" OnSelect="this.OnSelect" />
    }
  </MudList>
}

@code {
  [Parameter] public Entity Entity { get; set; } = default!;
  [Parameter] public EventCallback<Entity> OnSelect { get; set; }

  public IEnumerable<Entity> Children => this.Entity?.GetChildren() ?? Array.Empty<Entity>();
}
